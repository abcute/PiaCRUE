<!-- PiaAGI Project Analysis Document -->
# PiaAVT: Basic Analyses for Motivational System Understanding

**Document Version:** 1.0
**Date:** November 23, 2024
**Author:** PiaAGI Project Contributors (Generated by Jules)
**Status:** Draft
**Related PiaAGI.md Sections:** 3.3 (Motivational Systems and Intrinsic Goals), 4.1.6 (Motivational System Module)
**Related Logging Specification:** `Logging_Specification.md`

## 1. Introduction

This document outlines an initial set of basic analyses to be developed for the PiaAGI Agent Analysis & Visualization Toolkit (PiaAVT). These analyses are specifically focused on understanding the agent's Motivational System, as detailed in the PiaAGI framework. They aim to provide insights into how goals are generated, prioritized, and influence agent behavior, with a particular focus on intrinsic motivations.

The following analyses leverage data logged according to the `Logging_Specification.md`.

## 2. Core Conceptual Analyses for Motivational System

### 2.1. Goal Dynamics & Prioritization Analysis

*   **Description:** This analysis tracks the lifecycle of goals (both intrinsic and extrinsic), their changing priorities, and their eventual outcomes. It aims to provide an overview of the agent's goal management capabilities and common patterns in goal pursuit.
*   **Potential Log Data Points (from `Logging_Specification.md`):**
    *   `timestamp`
    *   `agent_id`
    *   `simulation_run_id`
    *   `event_type`: `GOAL_CREATED`, `GOAL_ACTIVATED`, `GOAL_DEACTIVATED`, `GOAL_PRIORITY_UPDATED`, `GOAL_STATUS_CHANGED` (with `status` values like `IN_PROGRESS`, `BLOCKED_BY_CONFLICT`, `BLOCKED_BY_PRECONDITION`, `ACHIEVED`, `FAILED`).
    *   `event_data` (for each event type):
        *   `GOAL_CREATED`: `goal_id`, `parent_goal_id` (optional), `description`, `type` (e.g., "INTRINSIC_CURIOSITY", "INTRINSIC_COMPETENCE", "EXTRINSIC_TASK", "SYSTEM_MAINTENANCE"), `initial_priority`, `source_trigger_event_id` (optional).
        *   `GOAL_ACTIVATED`: `goal_id`.
        *   `GOAL_DEACTIVATED`: `goal_id`.
        *   `GOAL_PRIORITY_UPDATED`: `goal_id`, `old_priority`, `new_priority`, `reason_for_change` (optional).
        *   `GOAL_STATUS_CHANGED`: `goal_id`, `old_status`, `new_status`, `reason` (optional, e.g., for `FAILED` or `BLOCKED` status).
*   **Conceptual Analysis Logic:**
    1.  Filter logs for goal-related events for a specific agent and simulation run.
    2.  Reconstruct the history of each `goal_id`: its creation, type, priority changes over time, status transitions, and final outcome.
    3.  Aggregate statistics:
        *   Distribution of goal types created and pursued.
        *   Average lifespan of goals (total, and by type/outcome).
        *   Frequency and magnitude of priority changes.
        *   Common reasons for goal failure or being blocked.
        *   Success rates for different goal types and initial priorities.
*   **Potential Insights Offered:**
    *   Understanding of the agent's goal stability and flexibility.
    *   Effectiveness of the goal prioritization mechanism.
    *   Identification of common obstacles or failure modes in goal pursuit.
    *   Balance between intrinsic and extrinsic motivations driving the agent.
    *   How often and why priorities shift (e.g., due to new urgent goals, emotional state changes, or unmet dependencies).
    *   Calculation of success rates by goal type and initial priority bands.
    *   Aggregation of common reasons for goal failure or blockage.
    *   Statistics on the frequency and average magnitude of priority changes per goal.

An implementation of this analysis is available in `Analysis_Implementations/Goal_Dynamics_Analysis.py`.

### 2.2. Intrinsic Motivation Trigger & Impact Analysis

*   **Description:** This analysis focuses on identifying the conditions under which intrinsic goals (e.g., curiosity, competence, autonomy) are generated and the immediate impact these goals have on the agent's state or behavior.
*   **Potential Log Data Points (from `Logging_Specification.md`):**
    *   `timestamp`
    *   `agent_id`
    *   `simulation_run_id`
    *   `event_type`: `GOAL_CREATED` (where `type` is intrinsic), `INTRINSIC_REWARD_GENERATED`, `MOTIVATIONAL_SALIENCE_CALCULATED`, `PERCEPTION_INPUT_PROCESSED`, `AGENT_INTERNAL_STATE_UPDATED` (e.g., from Self-Model indicating knowledge gap), `AGENT_ACTION_EXECUTED_IN_ENV`.
    *   `event_data`:
        *   `GOAL_CREATED`: `goal_id`, `type` (e.g., "INTRINSIC_CURIOSITY", "INTRINSIC_COMPETENCE"), `description`, `source_trigger_event_id` (crucial for linking back).
        *   `INTRINSIC_REWARD_GENERATED`: `reward_type` (e.g., "CURIOSITY_SATISFIED", "COMPETENCE_GAINED"), `magnitude`, `associated_goal_id` (optional), `triggering_stimulus_id` (optional).
        *   `MOTIVATIONAL_SALIENCE_CALCULATED`: `stimulus_id_or_description`, `salience_score`, `contributing_factors` (e.g., novelty, complexity, relevance_to_self_model_gap).
        *   `PERCEPTION_INPUT_PROCESSED`: `stimulus_details`, `novelty_score` (if available from Perception).
        *   `AGENT_INTERNAL_STATE_UPDATED`: `module_id` (e.g., "SelfModel"), `state_change_details` (e.g., "knowledge_gap_identified").
*   **Conceptual Analysis Logic:**
    1.  Identify instances of intrinsic `GOAL_CREATED` events.
    2.  Trace back from `source_trigger_event_id` (or by temporal proximity) to identify preceding events (e.g., specific perceptions, salience calculations, internal state changes) that likely triggered the intrinsic goal.
    3.  Analyze the characteristics of these triggering events/stimuli (e.g., novelty, complexity).
    4.  Observe subsequent agent actions or internal reward signals (`INTRINSIC_REWARD_GENERATED`) following the creation/activation of these intrinsic goals.
*   **Potential Insights Offered:**
    *   What types of stimuli or internal states reliably trigger curiosity or a drive for competence?
    *   How effective is the agent at generating relevant intrinsic goals?
    *   Is there an observable link between intrinsic goal generation and subsequent exploratory behavior or skill acquisition attempts?
    *   Does the generation of intrinsic rewards correlate with the achievement of these intrinsic goals?

### 2.3. Goal-Driven Behavior Congruence Analysis

*   **Description:** This analysis assesses the extent to which an agent's actions are aligned with its currently active and high-priority goals. It helps determine if the agent is behaving rationally with respect to its motivations or if other factors (e.g., distractions, emotional override, poor planning) are leading to incongruent behavior.
*   **Potential Log Data Points (from `Logging_Specification.md`):**
    *   `timestamp`
    *   `agent_id`
    *   `simulation_run_id`
    *   `event_type`: `GOAL_ACTIVATED`, `GOAL_DEACTIVATED`, `GOAL_PRIORITY_UPDATED`, `AGENT_ACTION_EXECUTED_IN_ENV`, `PLAN_GENERATED` (optional).
    *   `event_data`:
        *   `GOAL_ACTIVATED`: `goal_id`, `priority`.
        *   `GOAL_DEACTIVATED`: `goal_id`.
        *   `GOAL_PRIORITY_UPDATED`: `goal_id`, `new_priority`.
        *   `AGENT_ACTION_EXECUTED_IN_ENV`: `action_type`, `action_parameters`, `target_object_or_concept` (if applicable).
        *   `PLAN_GENERATED`: `plan_id`, `target_goal_id`, `sequence_of_actions` (conceptual).
*   **Conceptual Analysis Logic:**
    1.  Maintain a list of currently active goals for the agent, ordered by priority, over time.
    2.  For each `AGENT_ACTION_EXECUTED_IN_ENV` event, compare the action taken with the top-priority active goal(s).
    3.  Define a heuristic or a model for "congruence" (e.g., does the action plausibly contribute to the current top goal? If a plan is available, is the action part of the current plan for the top goal?).
    4.  Calculate a congruence score over time or count instances of incongruent actions.
    5.  Correlate periods of low congruence with other state variables (e.g., high emotional arousal, conflicting goals, identified distractions in perception logs).
*   **Potential Insights Offered:**
    *   Is the agent consistently pursuing its highest-priority goals?
    *   How often does the agent take actions that are seemingly unrelated or detrimental to its active goals?
    *   What conditions (internal or external) lead to goal-incongruent behavior?
    *   Effectiveness of the Planning module in translating goals into actions.

These initial analyses provide a starting point for leveraging PiaAVT to understand and refine the Motivational System of PiaAGI agents. Further analyses can be developed as the framework matures.

## 3. Other Implemented General Agent Analyses

This section details other implemented analysis scripts that provide insights into general agent state and performance beyond the specific focus of the motivational system.

### 3.1. Emotional State Trajectory Analysis

*   **Description:** This analysis tracks and summarizes the evolution of an agent's emotional state over time. It processes `EMOTION_STATE_UPDATED` log events to extract Valence, Arousal, and Dominance (VAD) values, any reported discrete emotions, and their intensity. The primary output is a chronological sequence of these emotional snapshots. This is useful for understanding the agent's emotional responses to various stimuli and events, identifying overall affective trends, and correlating emotional states with behavior or cognitive performance.
*   **Implementation Note:** An implementation of this analysis is available in `Analysis_Implementations/emotional_trajectory_analysis.py`.

### 3.2. Task Performance Metrics Analysis

*   **Description:** This analysis focuses on evaluating an agent's performance on defined tasks, which are often represented by goals (particularly `EXTRINSIC_TASK` types). It calculates key metrics such as task completion times (for successful and failed tasks), success/failure rates (overall and per task type), and can conceptually track resource consumption if logged appropriately. It also aggregates reasons for task failures. This helps in assessing the agent's effectiveness, efficiency, and robustness in achieving its objectives.
*   **Implementation Note:** An implementation of this analysis is available in `Analysis_Implementations/task_performance_analysis.py`.
