<!-- PiaAGI Project Specification Document -->
# Motivational System Module Specification

**Document Version:** 1.0
**Date:** November 23, 2024
**Author:** PiaAGI Project Contributors (Generated by Jules)
**Status:** Draft
**Related PiaAGI.md Sections:** 3.3 (Motivational Systems and Intrinsic Goals), 4.1.6 (Motivational System Module)
**Related Conceptual Models:** `PiaAGI_Research_Tools/PiaAVT/Conceptual_Motivation_Models.md`
**Related Logging Specification:** `PiaAGI_Research_Tools/PiaAVT/Logging_Specification.md`

## 1. Introduction and Purpose

The Motivational System Module is a critical component of the PiaAGI cognitive architecture ([PiaAGI.md Section 4.1.6](../PiaAGI.md#416-motivational-system-module)). Its primary purpose is to generate, manage, and prioritize the agent's goals, thereby driving behavior, guiding learning, and ensuring adaptive responses to both internal needs and external environmental demands. It handles both extrinsic (task-oriented) and intrinsic (internally generated) motivations, such as curiosity and the drive for competence.

This module is essential for:
*   Proactive and autonomous behavior.
*   Sustained engagement with tasks and learning opportunities.
*   Adaptation of priorities in dynamic environments.
*   Guiding the allocation of cognitive resources.
*   Underpinning the agent's developmental trajectory by fostering exploration and skill acquisition.

This document specifies the general principles of the Motivational System Module and provides detailed conceptual models for two core intrinsic motivations: Curiosity/Information Seeking and Competence/Mastery.

## 2. General Principles of the Motivational System Module

### 2.1. Role in Cognitive Architecture
The Motivational System acts as a central hub for goal-directed behavior. It does not merely react to immediate stimuli but also generates long-term and abstract goals based on internal states and learned associations. It is responsible for translating needs, desires, and opportunities into actionable objectives for the agent.

### 2.2. Interaction with Other Modules
The Motivational System is deeply interconnected with other PiaCML modules:
*   **Perception Module & World Model:** Provide information about the external environment, including potential opportunities, threats, and novel stimuli that can trigger motivations.
*   **Self-Model Module:** Provides information about internal states, such as knowledge gaps (`KnowledgeMap`), skill deficiencies (`CapabilityInventory`), core values (`EthicalFramework`), and current developmental goals. These self-assessments are key inputs for generating intrinsic motivations.
*   **Emotion Module:** Emotional states can modulate the intensity and priority of motivations. For example, anxiety might suppress exploratory (curiosity) goals, while joy from success might enhance competence-driven goals.
*   **Planning & Decision-Making Module:** Receives prioritized goals from the Motivational System and formulates plans to achieve them. The Motivational System may also receive feedback from Planning regarding goal feasibility or conflicts.
*   **Learning Module(s):** Receives intrinsic reward signals from the Motivational System, which guide reinforcement learning and skill acquisition. Learning outcomes (e.g., new knowledge, improved skills) feed back into the Self-Model, potentially altering future motivations.
*   **Attention Module (via Central Executive/WM):** The priority of active goals influences how attentional resources are allocated to stimuli and internal processing.

### 2.3. Goal Management
*   **Generation:** Goals can be generated extrinsically (e.g., from user prompts, scenario definitions) or intrinsically (e.g., based on curiosity, competence drives).
*   **Representation:** Each goal is represented as a data structure including: `goal_id`, `description`, `type` (e.g., `EXTRINSIC_TASK`, `INTRINSIC_CURIOSITY`, `INTRINSIC_COMPETENCE`), `priority` (dynamic), `status` (e.g., `PENDING`, `ACTIVE`, `IN_PROGRESS`, `BLOCKED`, `ACHIEVED`, `FAILED`), `creation_timestamp`, `source_trigger_details`, `parent_goal_id` (for hierarchies), associated conditions for success/failure.
*   **Prioritization:** A dynamic prioritization mechanism is used to rank active goals. This determines which goals are primarily pursued. See Section 2.3.1 for details.
*   **Tracking:** The module continuously tracks the status of all active goals, updating them based on feedback from other modules (e.g., Planning, Learning, World Model).

#### 2.3.1. Goal Prioritization and Conflict Resolution Strategies

The Motivational System must dynamically manage the priorities of multiple, potentially competing goals. This involves calculating a priority score for each active goal and implementing strategies for handling conflicts.

**A. Priority Score Calculation (Conceptual):**

For each active goal $g$, its current priority $P(g)$ could be a function of:
$P(g) = w_{base} \cdot 	ext{BasePriority}(g) + w_{int} \cdot 	ext{Intensity}(g) + w_{urg} \cdot 	ext{Urgency}(g) + w_{val} \cdot 	ext{ValueAlignment}(g) + w_{dep} \cdot 	ext{DependencyFactor}(g) - w_{cost} \cdot 	ext{EstimatedCost}(g)$

Where:
*   $	ext{BasePriority}(g)$: The initial or inherent priority of the goal type (e.g., safety goals > curiosity goals).
*   $	ext{Intensity}(g)$: For intrinsic goals, the calculated drive intensity (e.g., $I_c$ or $I_m$). For extrinsic goals, this might be user-assigned importance.
*   $	ext{Urgency}(g)$: Time-sensitivity or deadline associated with the goal.
*   $	ext{ValueAlignment}(g)$: Score indicating how well the goal aligns with the agent's core values (from Self-Model's `EthicalFramework`).
*   $	ext{DependencyFactor}(g)$: Increases priority if other important goals depend on this one's completion.
*   $	ext{EstimatedCost}(g)$: Perceived resources (time, cognitive effort) required, potentially reducing priority for very costly goals if alternatives exist.
*   $w_...$: Configurable weights.

The list of active goals is then sorted by $P(g)$ to determine the current focus.

**B. Conflict Resolution Strategies:**

When multiple high-priority goals compete for resources or suggest incompatible actions, the system (potentially in concert with the Central Executive or Planning Module) may employ strategies like:

1.  **Strict Prioritization:** Always pursue the single goal with the highest $P(g)$. Simpler, but can lead to goal starvation for lower-priority items.
2.  **Utility-Based Selection:** If actions can serve multiple goals, favor actions that maximize overall utility across the set of active goals.
3.  **Time-Sharing/Interleaving:** Allocate processing cycles or time slots to multiple high-priority goals, switching between them. This is suitable if goals are divisible or progress can be made incrementally.
4.  **Goal Subsumption or Re-evaluation:**
    *   **Subsumption:** If one goal can be reframed as a sub-goal of another higher-priority goal, its pursuit is integrated.
    *   **Re-evaluation/Postponement:** If a conflict is severe, re-evaluate goal intensities or dependencies. One goal might be temporarily deactivated or its priority significantly lowered.
    *   **Compromise Goal Generation (Advanced):** Conceptually, the Planning or Self-Model might attempt to generate a new, intermediate goal that partially satisfies conflicting objectives.
5.  **Emotional Modulation in Conflict:** The Emotion Module's state (e.g., high frustration from goal blockage) can influence conflict resolution by increasing the urgency to resolve the conflict or by biasing the agent towards strategies that reduce negative affect.
6.  **Seeking Clarification/External Input:** If internal resolution fails, a high-level goal to seek clarification or guidance (e.g., from a user or a supervisory system) might be generated.

The choice of conflict resolution strategy can itself be context-dependent or learned.

### 2.4. Intrinsic vs. Extrinsic Motivation Handling
The system manages both types of goals. Intrinsic motivations are crucial for proactive learning and development in open-ended environments. Extrinsic goals are typically task-specific objectives. The prioritization mechanism must be ableto balance these, allowing, for instance, high-intensity curiosity to sometimes take precedence over a low-priority extrinsic task, or vice-versa.

## 3. Intrinsic Motivation Model: Curiosity and Information Seeking

This model formalizes the agent's drive to explore, seek novelty, resolve uncertainty, and improve its understanding of the world and itself.

### 3.1. Definition
Curiosity is an intrinsic motivation that compels the agent to seek out and process information that is novel, surprising, complex, or that resolves uncertainty in its internal models (World Model, Self-Model's `KnowledgeMap`).

### 3.2. Triggers

#### 3.2.1. Input Signals / Activation Conditions
*   **Novel Stimuli:** Signals from the Perception Module indicating a stimulus with a high novelty score (e.g., low familiarity based on LTM, high reconstruction error from a predictive coding model). Requires `PERCEPTION_INPUT_PROCESSED` log event with novelty metrics.
*   **Prediction Errors:** Signals from the World Model indicating a significant mismatch between its predictions and observed reality. Requires `WORLD_MODEL_PREDICTION_ERROR` log event with error magnitude.
*   **Knowledge Gaps/Uncertainty:**
    *   Internal queries from the Self-Model (`KnowledgeMap`) identifying concepts with low `understanding_level`, `confidence_score`, or `groundedness_score`.
    *   Explicit signals from the Planning Module when a plan's execution depends on information flagged as uncertain by the Self-Model.
*   **Complex Stimuli:** Perception of stimuli that are identified as complex (e.g., high feature count, intricate structure) but potentially learnable.

Activation occurs if the calculated intensity of the curiosity trigger (see below) surpasses a configurable threshold and is not overridden by a critical system or safety goal.

### 3.3. Intensity Dynamics

#### 3.3.1. Calculation
The intensity of a curiosity drive (`curiosity_intensity`) for a specific item of interest (stimulus, concept, event) could be calculated as a function:
`curiosity_intensity = f(novelty_score, prediction_error_magnitude, uncertainty_metric, complexity_score, relevance_to_active_goals, time_since_last_explored)`
*   Weights for each factor can be learned or configured.
*   `relevance_to_active_goals` increases intensity if the information sought could unblock an important current goal.

#### 3.3.2. Factors Influencing Change
*   **Habituation/Satiation:** Intensity decreases upon repeated exposure to the same novel stimulus without further information gain, or once an information gap is filled.
*   **Goal Achievement (Information Gained):** Successfully understanding a novel stimulus or resolving uncertainty reduces the intensity for that specific item.
*   **Interference:** Higher-priority goals (e.g., urgent extrinsic tasks, other strong intrinsic motivations, critical self-preservation) can suppress or reduce the effective priority of curiosity-driven behaviors.
*   **Emotional State:** Positive emotions (e.g., interest) might amplify curiosity, while negative emotions (e.g., fear, high cognitive load) might dampen it.

#### 3.3.3. Representation
A scalar value (e.g., normalized between 0.0 and 1.0) associated with each potential target of curiosity (e.g., a specific environmental object ID, a concept ID from `KnowledgeMap`).

### 3.4. Outputs / Behavioral Effects

#### 3.4.1. Generated Goal Types
*   `GOAL_TYPE_INTRINSIC_CURIOSITY`
*   **Parameters:** `target_identifier` (ID of object, concept, region), `information_sought` (optional description), `initial_priority` (derived from intensity).
*   **Examples:** "Explore [region_ID]", "Investigate [object_ID]", "Understand [concept_ID_from_KnowledgeMap]".

#### 3.4.2. Influence on Planning and Action Selection
*   Generated curiosity goals are passed to the Planning Module.
*   High `curiosity_intensity` translates to higher goal priority, influencing the selection of plans.
*   Favors actions such as: `explore_area`, `examine_object`, `manipulate_object_to_see_effect`, `query_internal_knowledge_base`, `ask_question` (if social interaction is possible).

#### 3.4.3. Parameters to Other Modules
*   **Attention Module:** Signals to increase attentional gain for stimuli related to high-intensity curiosity targets.
*   **Learning Module:** Primes the Learning Module to be receptive to updates related to the target of curiosity.

### 3.5. Intrinsic Reward Generation

#### 3.5.1. Conditions for Reward
*   Successful reduction of uncertainty about a concept in the Self-Model's `KnowledgeMap`.
*   Significant update to the World Model that resolves a prior prediction error or successfully incorporates a novel stimulus.
*   Acquisition of new information that demonstrably improves performance on a related task (even if that task is not immediately active).
*   Confirmation of a hypothesis generated out of curiosity.

#### 3.5.2. Magnitude Calculation
Proportional to the assessed "information gain":
*   Degree of uncertainty reduction (e.g., increase in `confidence_score` or `understanding_level` in `KnowledgeMap`).
*   Magnitude of the prediction error resolved.
*   Complexity or novelty of the information successfully integrated.

### 3.6. Key Algorithmic Concepts
Refer to `PiaAGI_Research_Tools/PiaAVT/Conceptual_Motivation_Models.md` Section 2.1, "Algorithmic Implementation Concepts (High-Level)" for detailed approaches to:
*   Novelty/Surprise Detection (e.g., feature mismatch, autoencoder reconstruction error, Bayesian surprise).
*   Uncertainty Identification (from Self-Model's `KnowledgeMap`).
*   Intensity Calculation (functional combination of trigger magnitudes and relevance).
*   Goal Generation logic.
*   Information Gain Assessment for reward calculation.

### 3.7. Interface with Logging System
Key events to log (as per `Logging_Specification.md` and for analysis via `Basic_Analyses.md`):
*   `GOAL_CREATED` (type: `INTRINSIC_CURIOSITY`, including `description`, `initial_priority`, `source_trigger_event_id`, `target_identifier`).
*   `MOTIVATIONAL_SALIENCE_CALCULATED` (for stimuli, including `novelty_component`, `uncertainty_component`).
*   `INTRINSIC_REWARD_GENERATED` (type: `CURIOSITY_SATISFACTION` or `INFORMATION_GAINED`, with `magnitude` and `related_goal_id`).
*   Relevant `PERCEPTION_INPUT_PROCESSED`, `WORLD_MODEL_PREDICTION_ERROR`, `SELF_MODEL_STATE_UPDATED` events that act as triggers.

## 4. Intrinsic Motivation Model: Competence and Mastery

This model formalizes the agent's drive to improve its skills, enhance its effectiveness in achieving goals, and master challenges.

### 4.1. Definition
Competence/Mastery is an intrinsic motivation that drives the agent to develop, refine, and effectively apply its skills and capabilities (`CapabilityInventory` in Self-Model) to interact successfully with its environment and achieve its goals.

### 4.2. Triggers

#### 4.2.1. Input Signals / Activation Conditions
*   **Task Performance Feedback:**
    *   `GOAL_STATUS_CHANGED` (with `status: FAILED` or `status: ACHIEVED_SUBOPTIMALLY`) for a goal requiring specific skills.
    *   `TASK_STATUS_UPDATE` (from PiaSE, with `status: COMPLETED_FAILURE` or metrics indicating low efficiency).
*   **Self-Model Assessment:**
    *   Identification of a skill in `CapabilityInventory` with low `proficiency_level` or `confidence_in_skill`, especially if that skill is deemed relevant to current or upcoming goals.
    *   Detection of a widening gap between current proficiency and an internal or externally provided target proficiency for a skill.
*   **Zone of Proximal Development (ZPD) Opportunity:** Successful completion of a task at a certain difficulty level may trigger motivation to attempt a slightly harder task or use the skill in a more complex way.
*   **Observational Learning (if applicable):** Observing another agent perform a skill more effectively.

Activation occurs if the calculated intensity (see below) is sufficient and the agent has opportunities/resources for practice or skill improvement.

### 4.3. Intensity Dynamics

#### 4.3.1. Calculation
The intensity of a competence drive (`competence_intensity`) for a specific skill or task domain:
`competence_intensity = f(proficiency_gap, skill_importance, success_rate_trend, perceived_learnability)`
*   `proficiency_gap`: Difference between current and target/desired proficiency.
*   `skill_importance`: Relevance/frequency of the skill for achieving high-priority goals.
*   `success_rate_trend`: A declining trend in success for a skill might increase intensity.
*   `perceived_learnability`: Higher if the Self-Model assesses the skill as learnable with available resources.

#### 4.3.2. Factors Influencing Change
*   **Skill Improvement:** As proficiency increases, intensity for that specific skill may decrease (unless new, higher mastery levels are set).
*   **Repeated Failure (without learning):** May temporarily decrease intensity or shift focus to prerequisite skills if the task is perceived as too difficult (frustration).
*   **Shifting Goal Priorities:** If a skill is no longer relevant to active high-priority goals, its competence drive intensity may decrease.
*   **Resource Availability:** Limited time or cognitive resources might suppress active efforts towards competence goals.

#### 4.3.3. Representation
A scalar value (e.g., normalized 0.0-1.0) associated with each relevant skill ID from the `CapabilityInventory` or a broader task domain.

### 4.4. Outputs / Behavioral Effects

#### 4.4.1. Generated Goal Types
*   `GOAL_TYPE_INTRINSIC_COMPETENCE`
*   **Parameters:** `target_skill_id` or `target_task_domain`, `desired_proficiency_level_change` (optional), `initial_priority`.
*   **Examples:** "Improve_skill [skill_X]", "Master_task [task_Y]", "Practice_using_tool [tool_Z]".

#### 4.4.2. Influence on Planning and Action Selection
*   Generated competence goals are fed to the Planning Module.
*   Leads to selection/creation of plans involving:
    *   **Deliberate Practice:** Repeating tasks or sub-components of tasks.
    *   **Exploration of Strategies:** Trying different methods to perform a task to find more efficient or successful ones.
    *   **Seeking Challenges:** Selecting tasks that are at the edge of current capabilities (ZPD).
    *   **Information Seeking (about the skill):** May trigger secondary curiosity goals to learn more about how to perform the skill better.

#### 4.4.3. Parameters to Other Modules
*   **Learning Module:** Signals to focus learning efforts on the targeted skill/domain, potentially adjusting learning rates or strategies (e.g., more exploration in RL).
*   **Self-Model:** Prompts for more frequent updates to `CapabilityInventory` for the skill being practiced.

### 4.5. Intrinsic Reward Generation

#### 4.5.1. Conditions for Reward
*   Demonstrable improvement in skill proficiency (e.g., Self-Model updates `CapabilityInventory.skills[skill_id].proficiency_level`).
*   Successful completion of a task that was previously failed or challenging, attributed to skill improvement.
*   Increased efficiency (e.g., faster completion, lower resource use) in a skilled task.
*   Successfully applying a skill in a new, more complex context.

#### 4.5.2. Magnitude Calculation
Proportional to:
*   The degree of measured skill improvement.
*   The perceived difficulty of the challenge overcome.
*   The reduction in error rate or increase in efficiency.

### 4.6. Key Algorithmic Concepts
Refer to `PiaAGI_Research_Tools/PiaAVT/Conceptual_Motivation_Models.md` Section 2.2, "Algorithmic Implementation Concepts (High-Level)" for detailed approaches to:
*   Performance Monitoring & Discrepancy Detection (Self-Model analysis of task outcomes).
*   Failure Analysis.
*   Intensity Calculation (functional combination of proficiency gap, importance, etc.).
*   Goal Generation logic for practice/mastery.
*   Proficiency Gain Assessment for reward calculation.

### 4.7. Interface with Logging System
Key events to log:
*   `GOAL_CREATED` (type: `INTRINSIC_COMPETENCE`, including `description`, `initial_priority`, `target_skill_id`).
*   `SELF_MODEL_STATE_UPDATED` (specifically `SKILL_PROFICIENCY_UPDATED` events with `skill_id`, `old_level`, `new_level`, `reason_for_update`).
*   `INTRINSIC_REWARD_GENERATED` (type: `COMPETENCE_GAINED` or `MASTERY_ACHIEVED`, with `magnitude` and `related_goal_id`/`skill_id`).
*   Relevant `TASK_STATUS_UPDATE` or `GOAL_STATUS_CHANGED` events that trigger competence drives.
*   `LEARNING_MODULE_ENGAGED` (with `reason: "skill_refinement"`).

## 5. Open Research Questions / Future Directions
*   How to effectively balance the pursuit of multiple competence goals simultaneously?
*   What are robust mechanisms for the agent to self-select appropriate levels of challenge (maintaining ZPD)?
*   How does the Competence drive interact with risk assessment (e.g., avoiding tasks that are too far beyond current capabilities)?
*   Modeling frustration or demotivation if competence goals are persistently unmet.
*   Integration with social learning for acquiring competence (observing others).

## 6. References
*   `PiaAGI.md` (Core framework document, Sections 3.3, 4.1.6)
*   `PiaAGI_Research_Tools/PiaAVT/Conceptual_Motivation_Models.md`
*   `PiaAGI_Research_Tools/PiaAVT/Logging_Specification.md`

---
Return to [PiaAGI Core Document](../../PiaAGI.md)
Return to [PiaCML README](../README.md)
