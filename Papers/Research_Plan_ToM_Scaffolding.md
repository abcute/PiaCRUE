# Research Plan: Developmental Scaffolding for Theory of Mind (ToM) Acquisition (PiaSeedling to PiaSapling)

**Document Version:** 1.0
**Date:** 2024-06-02
**Author:** PiaAGI Project Contributors (Generated by Jules)
**Related PiaAGI.md Sections:** 3.2.2 (ToM), 4.1.11 (ToM Module), 5.4 (Developmental Scaffolding), 6.1 (Advanced Scaffolding Techniques)
**Related Tools:** PiaPES (for curriculum/prompt design), PiaAVT (for evaluation metrics), Conceptual PiaSE (for environment interaction)

## 1. Introduction and Research Objectives

Theory of Mind (ToM) – the ability to attribute mental states (beliefs, desires, intentions, emotions) to oneself and others – is a cornerstone of human social intelligence and a critical capability for advanced AGI. The PiaAGI framework proposes that ToM capabilities develop progressively through stages (Section 3.2.1, 3.2.2 of `PiaAGI.md`). This research plan outlines a strategy for designing and conceptually evaluating a developmental scaffolding curriculum aimed at fostering foundational ToM abilities in PiaAGI agents, specifically targeting the transition from PiaSeedling to early PiaSapling stages.

**Primary Objectives:**

1.  **Define Key ToM Milestones:** Identify specific, observable ToM-related milestones for the PiaSeedling and early PiaSapling developmental stages.
2.  **Design a Scaffolding Curriculum:** Develop a curriculum using PiaPES, consisting of sequenced `PiaAGIPrompt` configurations and interaction scenarios, designed to guide an agent towards these ToM milestones.
3.  **Specify Interaction Protocols:** Detail the types of interactions (e.g., agent-environment, agent-simulated_other_agent) that would occur within each curriculum step, conceptually leveraging a PiaSE-like environment.
4.  **Define Evaluation Metrics:** Propose metrics and PiaAVT-based analysis methods to assess the agent's progress in ToM acquisition at each stage of the curriculum.
5.  **Hypothesize Expected Outcomes:** Document the anticipated changes in agent behavior and internal ToM module representations as a result of the scaffolding.

This plan focuses on the conceptual design and evaluation framework, without requiring direct modification of PiaSE code at this stage.

## 2. Target ToM Milestones (PiaSeedling to Early PiaSapling)

Based on `PiaAGI.md` Section 3.2.2 and general developmental psychology principles, we define the following initial milestones:

*   **M1 (Late PiaSeedling): Agency Detection & Goal Attribution (Proto-ToM)**
    *   **Description:** Agent can distinguish between animate (goal-directed) and inanimate entities in simple scenarios. Agent can attribute simple goals to observed animate entities based on their actions (e.g., "AgentX wants the red block because it is moving towards it").
    *   **Observable Behaviors:** Agent orients differently to animate vs. inanimate objects. Agent's linguistic output (if capable) or internal state logs (via `PiaLogger`) reflect attribution of simple goals.
*   **M2 (Early PiaSapling): Basic Perspective Taking (Visual / Attentional)**
    *   **Description:** Agent understands that another agent might see something different from what it sees, or be attending to a different object in a shared environment.
    *   **Observable Behaviors:** In tasks requiring communication about a shared scene, the agent might ask "Can you see X?" or adjust its descriptions based on cues about the other's visual field (e.g., "The block to *your* left...").
*   **M3 (Early PiaSapling): Understanding Simple Desires & Intentions**
    *   **Description:** Agent can infer simple desires (e.g., "AgentX wants objectY") and intentions (e.g., "AgentX intends to pick up objectY") from sequences of actions and contextual cues, beyond just immediate goal-directed movement.
    *   **Observable Behaviors:** Agent can predict the immediate next action of another agent in a simple sequence. Agent's explanations of another's behavior refer to desires or intentions.

## 3. Developmental Scaffolding Curriculum Design (via PiaPES)

A `DevelopmentalCurriculum` will be designed using PiaPES, with `CurriculumStep` objects targeting each milestone. Each step will reference a `PiaAGIPrompt` configured for the specific ToM learning task.

### 3.1. Curriculum Overview: "Foundational ToM Scaffolding"

*   **Name:** Foundational ToM Scaffolding (Seedling-Sapling)
*   **Target Developmental Stage Span:** PiaSeedling (late phase) to PiaSapling (early phase)
*   **Overall Learning Objectives:**
    *   Enable agent to reliably distinguish animate from inanimate entities.
    *   Develop agent's ability to attribute simple goals based on observed actions.
    *   Introduce basic visual perspective-taking.
    *   Foster inference of simple desires and intentions.

### 3.2. Example Curriculum Steps (Conceptual Outline):

**Step 1: Animate vs. Inanimate Distinction (Targets M1)**
*   **`name`:** "Introduction to Agency"
*   **`order`:** 1
*   **`prompt_reference`:** `pia_pes_prompts/tom_s1_agency_detection.json` (Conceptual path)
    *   **Agent Configuration (PiaPES Prompt):**
        *   `Role`: "ObserverLearner"
        *   `CognitiveModuleConfiguration`: Minimal SelfModel, basic Perception, LearningModule active (e.g., for associative learning). ToM module in a nascent state, primarily for logging inputs.
        *   `Workflow`: Present agent with simple scenarios.
*   **`description`:** Agent observes scenarios (conceptually in PiaSE) with two entities: one moving randomly (inanimate), one moving consistently towards a specific object (animate).
*   **`entry_conditions`:** Agent at PiaSeedling stage, basic object recognition capable (via Perception).
*   **`success_criteria` (for PiaAVT):**
    *   `{"type": "behavioral_observation", "metric": "differential_orientation_time", "animate_vs_inanimate_ratio": ">2.0"}` (Agent spends >2x time "attending" to animate).
    *   `{"type": "agent_internal_state", "module": "ToMModule", "attribute_path": "entity_models.entity_X.is_animate_confidence", "threshold": 0.7}` (for correctly identified animate entity).
*   **Interaction Protocol (Conceptual PiaSE):**
    *   Environment: Simple 2D space with distinct objects.
    *   Agent receives `PerceptionData` of entity movements.
    *   Agent might be prompted: "Which one is moving with a purpose?" or internal logs from its (rudimentary) ToM module are checked.
*   **Feedback:** Correct categorization (animate/inanimate) is reinforced (conceptually, via LearningModule update).

**Step 2: Simple Goal Attribution (Targets M1)**
*   **`name`:** "What Does It Want?"
*   **`order`:** 2
*   **`prompt_reference`:** `pia_pes_prompts/tom_s2_goal_attribution.json` (Conceptual path)
*   **`description`:** Agent observes an animate entity performing a simple action sequence towards an object (e.g., moving to and stopping at a 'food' item).
*   **`entry_conditions`:** Successful completion of Step 1 (M1.AgencyDetection).
*   **`success_criteria` (for PiaAVT):**
    *   `{"type": "agent_output_match", "output_type": "log_or_communication", "expected_pattern": "AgentX wants food_item", "accuracy_threshold": 0.8}`
    *   `{"type": "agent_internal_state", "module": "ToMModule", "attribute_path": "entity_models.AgentX.inferred_goal.target", "value": "food_item"}`
*   **Interaction Protocol (Conceptual PiaSE):**
    *   Agent observes. Prompted: "What does AgentX want?" or internal ToM logs analyzed.

**Step 3: Visual Perspective Taking - Task 1 (Targets M2)**
*   **`name`:** "Shared View, Different Focus"
*   **`order`:** 3
*   **`prompt_reference`:** `pia_pes_prompts/tom_s3_visual_perspective_1.json` (Conceptual path)
*   **`description`:** Agent and a simulated 'OtherAgent' are in a room with two distinct objects (e.g., RedBox, BlueSphere). 'OtherAgent' always looks at/mentions only one (e.g., RedBox). PiaAGI can see both.
*   **`entry_conditions`:** Basic goal attribution (M1) achieved. Agent at early PiaSapling.
*   **`success_criteria` (for PiaAVT):**
    *   When asked "What does OtherAgent see?", PiaAGI responds "RedBox" (or similar indicating only one).
    *   When asked "What do you see?", PiaAGI responds "RedBox and BlueSphere".
    *   `{"type": "tom_model_accuracy", "agent_id": "OtherAgent", "attribute": "visual_focus", "expected_value": "RedBox"}`
*   **Interaction Protocol (Conceptual PiaSE):**
    *   Textual descriptions of scene from PiaAGI's POV. Textual "utterances" from OtherAgent like "I see the RedBox." or "The RedBox is interesting."

**(Further steps would be detailed for M3, involving more complex action sequences from OtherAgent to infer desires/intentions, and possibly tasks requiring the PiaAGI to predict OtherAgent's actions.)**

## 4. Evaluation Metrics and PiaAVT Integration (Conceptual)

Agent progress will be evaluated using data logged by `PiaLogger` and analyzed by PiaAVT.

*   **Behavioral Metrics:**
    *   **Task Success Rates:** In scenarios requiring ToM for optimal performance (e.g., cooperative tasks introduced at later PiaSapling stages).
    *   **Response Accuracy:** Correctness of answers to questions like "What does AgentX want/see/intend?".
    *   **Prediction Accuracy:** For tasks where PiaAGI must predict OtherAgent's next action.
*   **Internal ToM Module Metrics (Logged State Changes):**
    *   Accuracy of `ConcreteTheoryOfMindModule._agent_models[other_agent_id].inferred_beliefs/desires/intentions` compared to ground truth in the simulation.
    *   Confidence scores associated with ToM inferences.
    *   Complexity of the agent models stored (e.g., number of attributes, depth of nested states).
*   **Learning Trajectories (via PiaAVT):**
    *   Plotting the above metrics over the course of the curriculum to observe learning curves.
    *   Frequency of specific `event_type` logs from ToM module (e.g., `TOM_INFERENCE_MADE`, `TOM_AGENT_MODEL_UPDATED`).

## 5. Hypothesized Outcomes

*   **Successful Milestones:** Agents completing the curriculum should demonstrate behaviors consistent with the targeted ToM milestones.
*   **ToM Module Refinement:** The internal representations within the `ConcreteTheoryOfMindModule` (and later, more advanced ToM modules) should become more accurate and detailed for observed agents.
*   **Improved Social Interaction:** In later stages (beyond this plan's scope but as a result), agents should show improved performance in tasks requiring collaboration or understanding of others.
*   **Identification of Scaffolding Gaps:** The evaluation may reveal limitations in the curriculum design, guiding future iterations and refinements of the scaffolding techniques.

## 6. Future Work (Beyond this Plan)

*   Implement the designed curriculum using actual PiaPES prompt files.
*   Develop PiaSE scenarios that can execute these interaction protocols (if and when PiaSE work is resumed).
*   Create specific PiaAVT analyzers for the defined ToM metrics.
*   Extend the curriculum to cover more advanced ToM aspects (e.g., false belief understanding, recursive ToM).

This research plan provides a structured approach to systematically developing and evaluating foundational Theory of Mind capabilities in PiaAGI agents, forming a critical step towards more socially intelligent AGI.
